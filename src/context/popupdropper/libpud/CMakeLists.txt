
set(CMAKE_INCLUDE_CURRENT_DIR ON)
INCLUDE_DIRECTORIES(
    ${CMAKE_CURRENT_BINARY_DIR}/popupdropper
    ${CMAKE_CURRENT_BINARY_DIR}/..
)


########### next target ###############

SET(pud_LIB_SRCS
    PopupDropper.cpp
    PopupDropperItem.cpp
    PopupDropperView.cpp
)

ADD_LIBRARY(pud SHARED ${pud_LIB_SRCS})

TARGET_LINK_LIBRARIES(pud Qt5::Core Qt5::Gui Qt5::Svg)

SET_TARGET_PROPERTIES(pud PROPERTIES
        VERSION
        ${POPUPDROPPER_LIB_MAJOR_VERSION}.${POPUPDROPPER_LIB_MINOR_VERSION}.${POPUPDROPPER_LIB_PATCH_VERSION}
        SOVERSION ${POPUPDROPPER_LIB_MAJOR_VERSION}
        INSTALL_NAME_DIR ${LIB_INSTALL_DIR}
)
INSTALL(TARGETS pud
	LIBRARY DESTINATION ${LIB_INSTALL_DIR}
	RUNTIME DESTINATION bin
	ARCHIVE DESTINATION  ${LIB_INSTALL_DIR}
)

INSTALL( FILES  PopupDropper.h PopupDropperItem.h
    PopupDropperView.h PopupDropper_Export.h DESTINATION
    ${INCLUDE_INSTALL_DIR}/popupdropper COMPONENT Devel)
